


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > myGame</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.Display</a>
</div>

<h1>Coverage Summary for Class: myGame (com.Display)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">myGame</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (17/17)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    62%
  </span>
  <span class="absValue">
    (67/108)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    84%
  </span>
  <span class="absValue">
    (179/213)
  </span>
</td>
</tr>
  <tr>
    <td class="name">myGame$1</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (18/18)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    62%
  </span>
  <span class="absValue">
    (67/108)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    84.1%
  </span>
  <span class="absValue">
    (180/214)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.Display;
&nbsp;
&nbsp;import com.Board.Objects;
&nbsp;import com.Entities.Enemy;
&nbsp;import com.Entities.Hero;
&nbsp;import com.Entities.Position;
&nbsp;import com.Helpers.Direction;
&nbsp;import com.Helpers.KeyHandler;
&nbsp;import com.Logic.EnemyLogic;
&nbsp;import com.Logic.HeroLogic;
&nbsp;import com.Logic.RewardLogic;
&nbsp;
&nbsp;import javax.imageio.ImageIO;
&nbsp;import javax.swing.*;
&nbsp;import java.awt.*;
&nbsp;import java.awt.image.BufferedImage;
&nbsp;import java.io.File;
&nbsp;import java.io.IOException;
&nbsp;import java.net.URISyntaxException;
&nbsp;import java.net.URL;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.HashMap;
&nbsp;import java.util.Random;
&nbsp;
&nbsp;/**
&nbsp; * Creates this JPanel to represent the com.Game screen
&nbsp; */
&nbsp;public class myGame extends JPanel{
&nbsp;
&nbsp;
&nbsp;    private int tileHeight;
&nbsp;    private int tileWidth;
<b class="fc">&nbsp;    private int columns = 25;</b>
<b class="fc">&nbsp;    private int rows = 15;</b>
&nbsp;    protected HashMap&lt;String, BufferedImage&gt; squirrel_pngs;
&nbsp;    protected HashMap&lt;String, BufferedImage&gt; hidden_squirrel_pngs;
&nbsp;    private BufferedImage chocolate_png;
&nbsp;    private HashMap&lt;String, BufferedImage&gt; bear_pngs;
&nbsp;    private BufferedImage bush_png;
&nbsp;    private BufferedImage hunter_png;
&nbsp;    private BufferedImage peanuts_png;
&nbsp;    private BufferedImage[] tree_pngs;
&nbsp;    private BufferedImage board_png;
&nbsp;    private BufferedImage exit_png;
&nbsp;    private BufferedImage trap_png;
&nbsp;    private BufferedImage button_png;
&nbsp;    KeyHandler kh;
&nbsp;    private CardLayout cl;
&nbsp;    private DisplayLayout dl;
<b class="fc">&nbsp;    public int goMain = 0;</b>
&nbsp;    private JLabel timeLabel;
&nbsp;    private JLabel scoreLabel;
&nbsp;    Font font;
&nbsp;    private int seconds;
&nbsp;
&nbsp;    Objects[][] boardMap;
&nbsp;
&nbsp;    EnemyLogic enemyLogic;
&nbsp;    HeroLogic heroLogic;
&nbsp;
&nbsp;    RewardLogic rewardLogic;
&nbsp;
&nbsp;    public boolean firstRender;
&nbsp;
&nbsp;    public ArrayList&lt;Integer&gt; treeTypeOrder;
&nbsp;
&nbsp;    /**
&nbsp;     * Constructor creates the game screen.
&nbsp;     * Waits for when play button in com.Main Menu gets pressed, then
&nbsp;     * game screen will update and repaint until player chooses to
&nbsp;     * go back to main menu, loses, or wins.
&nbsp;     * @param dl the JFrame object used to access the different JPanels
&nbsp;     * @param cl the CardLayout object to use its methods
&nbsp;     */
<b class="fc">&nbsp;    public myGame(DisplayLayout dl, CardLayout cl){</b>
<b class="fc">&nbsp;        this.cl = cl;</b>
<b class="fc">&nbsp;        this.dl = dl;</b>
<b class="fc">&nbsp;        this.kh = dl.kh;</b>
&nbsp;        //rows*pixelsize+60 we have +60 for putting the time and scores at the top of
&nbsp;        //and additional row of trees
<b class="fc">&nbsp;        setPreferredSize(new Dimension(columns*tileWidth, rows*tileHeight+60));</b>
<b class="fc">&nbsp;        getImages();</b>
<b class="fc">&nbsp;        addKeyListener(kh);</b>
<b class="fc">&nbsp;        this.setLayout(null);</b>
<b class="fc">&nbsp;        timeLabel = new JLabel();</b>
<b class="fc">&nbsp;        timeLabel.setText(&quot;Time&quot;);</b>
<b class="fc">&nbsp;        scoreLabel = new JLabel();</b>
<b class="fc">&nbsp;        scoreLabel.setText(&quot;Score&quot;);</b>
<b class="fc">&nbsp;        font = new Font(&quot;Times New Roman&quot;, Font.BOLD, 30);</b>
<b class="fc">&nbsp;        firstRender = true;</b>
<b class="fc">&nbsp;        treeTypeOrder = new ArrayList&lt;&gt;();</b>
<b class="fc">&nbsp;        tileHeight = dl.displayheight/(rows+1);</b>
<b class="fc">&nbsp;        tileWidth = dl.displaywidth/columns;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Increments the time and the character position based on key pressed.
&nbsp;     * Using the board data for this game, after detecting the user&#39;s key press,
&nbsp;     * the movement is processed and the characters are updated in the board data.
&nbsp;     * @throws InterruptedException if this thread is interrupted
&nbsp;     */
&nbsp;    public void updates() throws InterruptedException {
&nbsp;
<b class="fc">&nbsp;        dl.timer+=525;</b>
<b class="fc">&nbsp;        seconds = dl.timer/1000;</b>
&nbsp;
<b class="fc">&nbsp;        Hero hero = dl.gameObjectData.getHero();</b>
&nbsp;
<b class="fc">&nbsp;        Position heroPos = new Position(hero.getX(), hero.getY());</b>
&nbsp;
<b class="fc">&nbsp;        enemyLogic = dl.gameObjectData.getEnemyLogic();</b>
<b class="fc">&nbsp;        heroLogic = dl.gameObjectData.getHeroLogic();</b>
<b class="fc">&nbsp;        rewardLogic = dl.gameObjectData.getRewardLogic();</b>
&nbsp;
&nbsp;        //if two opposite keys are pressed then
&nbsp;        //player movement remains the same
<b class="pc">&nbsp;        if (kh.up &amp;&amp; !kh.down ) {</b>
<b class="fc">&nbsp;            heroPos.decrementY();</b>
&nbsp;        }
&nbsp;
<b class="pc">&nbsp;        else if (kh.down &amp;&amp; !kh.up) {</b>
&nbsp;            //can&#39;t go down in starting point
<b class="nc">&nbsp;            if(hero.getY()!=14) {</b>
<b class="nc">&nbsp;                heroPos.incrementY();</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="pc">&nbsp;        else if (kh.left &amp;&amp; !kh.right) {</b>
<b class="nc">&nbsp;            heroPos.decrementX();</b>
&nbsp;        }
&nbsp;
<b class="pc">&nbsp;        else if (kh.right &amp;&amp; !kh.left) {</b>
<b class="nc">&nbsp;            heroPos.incrementX();</b>
&nbsp;        }
<b class="fc">&nbsp;        rewardLogic.updateRewards(dl.gameObjectData, dl.timer);</b>
<b class="fc">&nbsp;        heroLogic.processPlayerMovement(heroPos, dl.gameObjectData);</b>
<b class="fc">&nbsp;        enemyLogic.processEnemyMovement(dl.gameObjectData);</b>
&nbsp;
<b class="fc">&nbsp;        if (kh.escape) {</b>
<b class="pc">&nbsp;            if(dl.pause == 0) {</b>
<b class="fc">&nbsp;                dl.pause = 1;</b>
&nbsp;
&nbsp;                //if panel is not open, pop out panel
<b class="pc">&nbsp;                if (dl.currentCard != 5) {</b>
&nbsp;                    // show associated pause panel
<b class="fc">&nbsp;                    cl.show(dl.displayPanel, &quot;5&quot;);</b>
&nbsp;
&nbsp;                    // current panel is pause Panel
<b class="fc">&nbsp;                    dl.currentCard = 5;</b>
&nbsp;
<b class="fc">&nbsp;                    dl.pausePanel.setFocusable(true);</b>
<b class="fc">&nbsp;                    dl.pausePanel.requestFocus();</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Sets a hashmap of Image objects that can then be painted on the screen.
&nbsp;     * A hashmap of squirrel images are used to simulate sprite animation.
&nbsp;     */
&nbsp;    public void getSquirrel(){
&nbsp;        try {
<b class="fc">&nbsp;            squirrel_pngs = new HashMap&lt;&gt;();</b>
<b class="fc">&nbsp;            URL pathUrl = getClass().getClassLoader().getResource(&quot;squirrels/&quot;);</b>
<b class="pc">&nbsp;            if ((pathUrl != null) &amp;&amp; pathUrl.getProtocol().equals(&quot;file&quot;)) {</b>
<b class="fc">&nbsp;                File files[] = new File(pathUrl.toURI()).listFiles();</b>
<b class="fc">&nbsp;                for(final File fileEntry : files){</b>
<b class="pc">&nbsp;                    if(fileEntry.isFile()){</b>
<b class="fc">&nbsp;                        String fileName = fileEntry.getName();</b>
<b class="fc">&nbsp;                        squirrel_pngs.put(fileName, ImageIO.read(getClass().getResource(&quot;/squirrels/&quot; + fileName)));</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            hidden_squirrel_pngs = new HashMap&lt;&gt;();</b>
&nbsp;
<b class="fc">&nbsp;            URL pathUrl2 = getClass().getClassLoader().getResource(&quot;hidingSquirrels/&quot;);</b>
<b class="pc">&nbsp;            if ((pathUrl2 != null) &amp;&amp; pathUrl2.getProtocol().equals(&quot;file&quot;)) {</b>
<b class="fc">&nbsp;                File files2[] = new File(pathUrl2.toURI()).listFiles();</b>
<b class="fc">&nbsp;                for (final File fileEntry : files2) {</b>
<b class="pc">&nbsp;                    if (fileEntry.isFile()) {</b>
<b class="fc">&nbsp;                        String fileName = fileEntry.getName();</b>
<b class="fc">&nbsp;                        hidden_squirrel_pngs.put(fileName, ImageIO.read(getClass().getResource(&quot;/hidingSquirrels/&quot; + fileName)));</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;        } catch (IOException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
<b class="nc">&nbsp;        } catch (URISyntaxException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    /**
&nbsp;     * Sets an Image object that can then be painted on the screen.
&nbsp;     */
&nbsp;    public void getAcorn(){
&nbsp;        try {
<b class="fc">&nbsp;            chocolate_png = ImageIO.read(getClass().getResource(&quot;/chocolate.png&quot;));</b>
<b class="nc">&nbsp;        } catch (IOException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Sets an Image object that can then be painted on the screen.
&nbsp;     */
&nbsp;    public void getBear(){
&nbsp;        try {
&nbsp;
<b class="fc">&nbsp;            bear_pngs = new HashMap&lt;&gt;();</b>
<b class="fc">&nbsp;            URL pathUrl = getClass().getClassLoader().getResource(&quot;bears/&quot;);</b>
&nbsp;
<b class="pc">&nbsp;            if ((pathUrl != null) &amp;&amp; pathUrl.getProtocol().equals(&quot;file&quot;)) {</b>
<b class="fc">&nbsp;                File files[] = new File(pathUrl.toURI()).listFiles();</b>
<b class="fc">&nbsp;                for (final File fileEntry : files) {</b>
<b class="pc">&nbsp;                    if (fileEntry.isFile()) {</b>
<b class="fc">&nbsp;                        String fileName = fileEntry.getName();</b>
<b class="fc">&nbsp;                        bear_pngs.put(fileName, ImageIO.read(getClass().getResource(&quot;/bears/&quot; + fileName)));</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;        } catch (IOException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
<b class="nc">&nbsp;        } catch (URISyntaxException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Sets an Image object that can then be painted on the screen.
&nbsp;     */
&nbsp;    public void getBush(){
&nbsp;        try {
<b class="fc">&nbsp;            bush_png = ImageIO.read(getClass().getResource(&quot;/bush1.png&quot;));</b>
<b class="nc">&nbsp;        } catch (IOException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    /**
&nbsp;     * Sets an Image object that can then be painted on the screen.
&nbsp;     */
&nbsp;    public void getPeanuts(){
&nbsp;        try {
<b class="fc">&nbsp;            peanuts_png = ImageIO.read(getClass().getResource(&quot;/acorn.png&quot;));</b>
<b class="nc">&nbsp;        } catch (IOException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Sets an Image object that can then be painted on the screen.
&nbsp;     */
&nbsp;    public void getTrees(){
&nbsp;        try {
<b class="fc">&nbsp;            tree_pngs = new BufferedImage[3];</b>
<b class="fc">&nbsp;            for(int i = 1; i &lt; 4; i++){</b>
<b class="fc">&nbsp;                tree_pngs[i-1] = ImageIO.read(getClass().getResource(&quot;/tree&quot; + i + &quot;.png&quot;));</b>
&nbsp;            }
<b class="nc">&nbsp;        } catch (IOException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Sets an Image object that can then be painted on the screen.
&nbsp;     */
&nbsp;    public void getExit(){
&nbsp;        try {
<b class="fc">&nbsp;            exit_png = ImageIO.read(getClass().getResource(&quot;/door.png&quot;));</b>
<b class="nc">&nbsp;        } catch (IOException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Sets an Image object that can then be painted on the screen.
&nbsp;     */
&nbsp;    public void getTrap(){
&nbsp;        try {
<b class="fc">&nbsp;            trap_png = ImageIO.read(getClass().getResource(&quot;/trap4.png&quot;));</b>
<b class="nc">&nbsp;        } catch (IOException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Sets an Image object that can then be painted on the screen.
&nbsp;     */
&nbsp;    public void getField(){
&nbsp;        try {
<b class="fc">&nbsp;            board_png = ImageIO.read(getClass().getResource(&quot;/board2.png&quot;));</b>
<b class="nc">&nbsp;        } catch (IOException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    public void getButton(){
&nbsp;        try {
<b class="fc">&nbsp;            button_png = ImageIO.read(getClass().getResource(&quot;/RecButton.png&quot;));</b>
<b class="nc">&nbsp;        } catch (IOException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Calls all the methods to set the Image objects.
&nbsp;     */
&nbsp;    public void getImages(){
<b class="fc">&nbsp;        getAcorn();</b>
<b class="fc">&nbsp;        getSquirrel();</b>
<b class="fc">&nbsp;        getBear();</b>
<b class="fc">&nbsp;        getBush();</b>
<b class="fc">&nbsp;        getPeanuts();</b>
<b class="fc">&nbsp;        getTrees();</b>
<b class="fc">&nbsp;        getField();</b>
<b class="fc">&nbsp;        getExit();</b>
<b class="fc">&nbsp;        getTrap();</b>
<b class="fc">&nbsp;        getButton();</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * This method de-presses the keys after game loop is over.
&nbsp;     */
&nbsp;    public void reset(){
<b class="fc">&nbsp;        kh.up = false;</b>
<b class="fc">&nbsp;        kh.left = false;</b>
<b class="fc">&nbsp;        kh.down = false;</b>
<b class="fc">&nbsp;        kh.right = false;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * This method draws the squirrel sprite animation based on direction.
&nbsp;     * @param g2 the Graphics class object to put onto JPanel
&nbsp;     */
&nbsp;    private void drawHero(Graphics2D g2){
<b class="fc">&nbsp;        Hero hero = dl.gameObjectData.getHero();</b>
<b class="fc">&nbsp;        int col = hero.getX();</b>
<b class="fc">&nbsp;        int row = hero.getY();</b>
&nbsp;
<b class="pc">&nbsp;        if(hero.isHidden()){</b>
<b class="nc">&nbsp;            if(dl.frameCounter == 6){</b>
<b class="nc">&nbsp;                hero.setAtBush(true);</b>
&nbsp;            }
<b class="nc">&nbsp;            if(hero.isAtBush()){</b>
<b class="nc">&nbsp;                g2.drawImage(hidden_squirrel_pngs.get(&quot;SquirrelHiding&quot; + hero.getHeroColor().toString() + &quot;.png&quot;), col * tileWidth + 10, row * tileHeight+60 + 10, tileWidth-20, tileHeight-20, null);</b>
&nbsp;                return;
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        hero.setAtBush(false);</b>
&nbsp;
<b class="fc">&nbsp;        int animationFrame = hero.getAnimationFrame();</b>
<b class="fc">&nbsp;        String dir = hero.getDir().toString();</b>
<b class="fc">&nbsp;        String color = hero.getHeroColor().toString();</b>
<b class="fc">&nbsp;        int movementProgress = 0;</b>
<b class="fc">&nbsp;        if(hero.isMoving()){</b>
<b class="pc">&nbsp;            if(hero.getDir() == Direction.NORTH || hero.getDir() == Direction.SOUTH){</b>
<b class="fc">&nbsp;                movementProgress = tileHeight/7 * (6 - dl.frameCounter);</b>
&nbsp;            }else{
<b class="nc">&nbsp;                movementProgress = tileWidth/7 * (6 - dl.frameCounter);</b>
&nbsp;            }
&nbsp;
<b class="pc">&nbsp;            if(dir == &quot;North&quot; || dir == &quot;West&quot;){</b>
<b class="fc">&nbsp;                movementProgress = movementProgress * -1;</b>
&nbsp;            }
&nbsp;            //if direction in the y-axis
<b class="pc">&nbsp;            if(dir == &quot;North&quot; || dir == &quot;South&quot;){</b>
<b class="fc">&nbsp;                g2.drawImage(squirrel_pngs.get(&quot;Squirrel&quot; + color + dir + animationFrame + &quot;.png&quot;), col * tileWidth, row * tileHeight+65 - movementProgress, tileWidth-10, tileHeight-10, null);</b>
&nbsp;            }else{
<b class="nc">&nbsp;                g2.drawImage(squirrel_pngs.get(&quot;Squirrel&quot; + color + dir + animationFrame + &quot;.png&quot;), col * tileWidth - movementProgress, row * tileHeight+65, tileWidth-10, tileHeight-10, null);</b>
&nbsp;            }
&nbsp;        }else{
<b class="fc">&nbsp;            g2.drawImage(squirrel_pngs.get(&quot;Squirrel&quot; + color + dir + &quot;1.png&quot;), col * tileWidth, row * tileHeight+65, tileWidth-10, tileHeight-10, null);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if(dl.frameCounter == 6) {</b>
<b class="fc">&nbsp;            hero.setMoving(false);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        hero.incrementAnimationFrame();</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * This method draws the enemies sprite animation based on direction.
&nbsp;     * @param g2 the Graphics class object to put onto JPanel
&nbsp;     */
&nbsp;    private void drawEnemies(Graphics2D g2){
<b class="fc">&nbsp;        ArrayList&lt;Enemy&gt; enemies = dl.gameObjectData.getEnemies();</b>
<b class="fc">&nbsp;        for(Enemy enemy : enemies){</b>
&nbsp;
<b class="fc">&nbsp;            int col = enemy.getX();</b>
<b class="fc">&nbsp;            int row = enemy.getY();</b>
<b class="fc">&nbsp;            int animationFrame = enemy.getAnimationFrame();</b>
<b class="fc">&nbsp;            String dir = enemy.getDir().toString();</b>
&nbsp;
<b class="fc">&nbsp;            int movementProgress = 0;</b>
<b class="fc">&nbsp;            if(enemy.getDir() == Direction.NORTH || enemy.getDir() == Direction.SOUTH){</b>
<b class="fc">&nbsp;                movementProgress = tileHeight/7 * (6 - dl.frameCounter);</b>
&nbsp;            }else{
<b class="fc">&nbsp;                movementProgress = tileWidth/7 * (6 - dl.frameCounter);</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if(dir == &quot;North&quot; || dir == &quot;West&quot;){</b>
<b class="fc">&nbsp;                movementProgress = movementProgress * -1;</b>
&nbsp;            }
&nbsp;
&nbsp;            //if direction in the y-axis
<b class="fc">&nbsp;            if(dir == &quot;North&quot; || dir == &quot;South&quot;){</b>
<b class="fc">&nbsp;                g2.drawImage(bear_pngs.get(&quot;Bear&quot;  + dir + animationFrame + &quot;.png&quot;), col * tileWidth, row * tileHeight+65 - movementProgress, tileWidth-10, tileHeight-10, null);</b>
&nbsp;            }else{
<b class="fc">&nbsp;                g2.drawImage(bear_pngs.get(&quot;Bear&quot;  + dir + animationFrame + &quot;.png&quot;), col * tileWidth - movementProgress, row * tileHeight+65, tileWidth-10, tileHeight-10, null);</b>
&nbsp;
&nbsp;            }
<b class="fc">&nbsp;            enemy.incrementAnimationFrame();</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Draws the board, characters, time, and score on the com.Game screen.
&nbsp;     * This method is called whenever repaint() is called in the game loop.
&nbsp;     * Uses the board data to determine which image to draw.w
&nbsp;     * @param g the &lt;code&gt;Graphics&lt;/code&gt; object to protect
&nbsp;     */
&nbsp;    @Override
&nbsp;    protected void paintComponent(Graphics g){   //   Draw something on JPanel
<b class="fc">&nbsp;        super.paintComponent(g);   //   Method already exists, so super is used to add additional lines</b>
<b class="fc">&nbsp;        Graphics2D g2 = (Graphics2D) g;   //   Draws shapes</b>
<b class="fc">&nbsp;        g.drawImage(board_png, 0, 0, dl.displaywidth, dl.displayheight, null);</b>
<b class="fc">&nbsp;        Hero hero = dl.gameObjectData.getHero();</b>
<b class="fc">&nbsp;        boardMap = dl.board.getBoardData();</b>
&nbsp;
<b class="fc">&nbsp;        int currentTree = 0;</b>
&nbsp;
&nbsp;
&nbsp;
<b class="fc">&nbsp;        for(int col = 0; col &lt; 25; col++){</b>
<b class="fc">&nbsp;            for(int row = 0; row &lt; 15; row++){</b>
<b class="pc">&nbsp;                switch (boardMap[col][row]) {</b>
&nbsp;                    case TREE:
<b class="fc">&nbsp;                        if(firstRender) {</b>
<b class="fc">&nbsp;                            Random rand = new Random();</b>
<b class="fc">&nbsp;                            treeTypeOrder.add(rand.nextInt(3));</b>
&nbsp;                        }
&nbsp;                        try {
<b class="fc">&nbsp;                            if (row == 0) {</b>
<b class="fc">&nbsp;                                g2.drawImage(tree_pngs[(treeTypeOrder.get(currentTree) + 1) % 3], col * tileWidth, 0, tileWidth, tileHeight, null);</b>
&nbsp;                            }
<b class="fc">&nbsp;                            g2.drawImage(tree_pngs[treeTypeOrder.get(currentTree)], col * tileWidth, row * tileHeight + 60, tileWidth, tileHeight, null);</b>
<b class="fc">&nbsp;                        }catch(Exception e){};</b>
<b class="fc">&nbsp;                        currentTree++;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                    case HEROHIDDEN:
<b class="pc">&nbsp;                        if(!hero.isAtBush()){</b>
<b class="fc">&nbsp;                            g2.drawImage(bush_png, col * tileWidth + 10, row * tileHeight+60 + 10, (int)(tileWidth*(2.0/3)), (int)(tileHeight*(2.0/3)), null);</b>
&nbsp;                        }
&nbsp;                        break;
&nbsp;                    case ENEMYANDBUSH:
&nbsp;                    case BUSH:
<b class="fc">&nbsp;                            g2.drawImage(bush_png, col * tileWidth + 10, row * tileHeight+60 + 10, (int)(tileWidth*(2.0/3)), (int)(tileHeight*(2.0/3)), null);</b>
<b class="fc">&nbsp;                        break;</b>
&nbsp;                    case ENEMYANDTRAP:
&nbsp;                    case TRAP:
<b class="fc">&nbsp;                        g2.drawImage(trap_png, col * tileWidth+20, row * tileHeight+60+20, (int)(tileWidth*(1.0/3)), (int)(tileHeight*(1.0/3)), null);</b>
<b class="fc">&nbsp;                        break;</b>
&nbsp;                    case ENEMYANDREWARD:
&nbsp;                    case REWARD:
<b class="fc">&nbsp;                        g2.drawImage(peanuts_png, col * tileWidth + 15, row * tileHeight+60 + 15, tileWidth/2, tileHeight/2, null);</b>
&nbsp;
<b class="fc">&nbsp;                    break;</b>
&nbsp;                    case BONUS:
&nbsp;                        //hide the object on the first render
<b class="pc">&nbsp;                        if(!firstRender) {</b>
<b class="fc">&nbsp;                            g2.drawImage(chocolate_png, col * tileWidth, row * tileHeight + 60, tileWidth/2, tileHeight/2, null);</b>
&nbsp;                        }
&nbsp;                    break;
&nbsp;                    //no exit image yet
<b class="fc">&nbsp;                    case EXIT: g2.drawImage(exit_png, col * tileWidth, row * tileHeight+60, tileWidth, tileHeight, null);</b>
&nbsp;                    break;
&nbsp;
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        drawHero(g2);</b>
<b class="fc">&nbsp;        drawEnemies(g2);</b>
&nbsp;
<b class="fc">&nbsp;        firstRender = false;</b>
&nbsp;
<b class="fc">&nbsp;        g2.drawImage(button_png, (int)(dl.displaywidth*0.24)-175, 10, 175, 45, null);</b>
<b class="fc">&nbsp;        g2.setFont(font);</b>
<b class="fc">&nbsp;        g2.setColor(Color.black);</b>
<b class="fc">&nbsp;        g2.drawString(scoreLabel.getText() + &quot;: &quot; + dl.gameObjectData.getHero().getScore(), (int)(dl.displaywidth*0.25)-175, 42);</b>
&nbsp;
<b class="fc">&nbsp;        g2.drawImage(button_png, (int)(dl.displaywidth*0.74), 10, 175, 45, null);</b>
<b class="fc">&nbsp;        g2.setFont(font);</b>
<b class="fc">&nbsp;        g2.setColor(Color.black);</b>
<b class="fc">&nbsp;        g2.drawString(timeLabel.getText() + &quot;: &quot; + seconds, (int)(dl.displaywidth*0.75), 42);</b>
<b class="fc">&nbsp;        g2.dispose();</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2022-11-26 23:48</div>
</div>
</body>
</html>
